<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ Thống Quản Lý Bệnh Viện </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            background-image: url('https://img.pikbest.com/ai/illus_our/20230427/fe3b2dce27a4c457742dcfb65746586c.jpg!w700wp');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: #f3f4f6;
            font-family: 'Roboto', sans-serif;
        }

        .header-box {
            background: linear-gradient(135deg, #ef4444 0%, #b91c1c 100%);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
            border: 2px solid #fca5a5;
            border-radius: 12px;
        }

        .code-window {
            background-color: #1e1e2e;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid #444;
        }

        .code-sidebar {
            background-color: #2b2b3b;
            border-right: 1px solid #444;
        }

        .file-tab {
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .file-tab:hover {
            background-color: #393950;
        }

        .file-tab.active {
            background-color: #323246;
            border-left: 3px solid #ff79c6;
            color: #ff79c6;
            font-weight: bold;
        }

        pre {
            font-family: 'Roboto Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            overflow-x: auto;
            white-space: pre-wrap;
        }

        .diagram-container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 20px;
            color: #333;

        }

        .mermaid {
            background-color: transparent !important;
            color: #d1d5db;
            padding: 20px;
            border-radius: 0.75rem;
        }
        .mermaid .cluster rect, .mermaid .classGroup rect {
            fill: #1e1e2e !important;
            stroke: #ff79c6 !important;
        }
        .mermaid text {
            fill: #fcd34d !important;
        }
        .mermaid .edgeLabel, .mermaid .label {
            fill: #d1d5db !important;
        }
        .mermaid path.edge {
            stroke: #8be9fd !important;
        }
        
        .logo-container {
            position: absolute;
            top: 50%;
            left: 20px;
            transform: translateY(-50%);
            z-index: 10;
        }

        .website-logo {
            width: 100px;
            height: 100px;
            object-fit: contain;
            border-radius: 8px;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-7xl mx-auto mb-10">
        <div class="header-box p-6 text-center transform hover:scale-[1.01] transition-transform duration-300">
            <div class="logo-container">
                <a href="/">
                    <img src="https://upload.wikimedia.org/wikipedia/vi/0/0e/Logo_MTA_new.png" alt="Logo MTA" class="website-logo">
                </a>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-white uppercase tracking-wider drop-shadow-md">
                Quản Lý Bệnh Viện
            </h1>
            <p class="mt-2 text-red-100 text-lg">Hopital Management </p>
        </div>
    </div>

    <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <div class="lg:col-span-1 space-y-6">
            
            <div class="bg-gray-800 p-6 rounded-xl border border-gray-600 shadow-lg">
                <h2 class="text-2xl font-bold text-orange-400 mb-4 border-b border-gray-600 pb-2">Nguyên Tắc Thiết Kế</h2>
                <ul class="space-y-3">
                    <li class="flex items-start">
                       
                        <div>
                            
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-pink-500 mr-2">➤</span>
                        <div>
                            <strong class="text-pink-400">Tính Kế Thừa:</strong>
                            <p class="text-sm text-gray-300"><span class="text-orange-400">Doctor</span> &lt;- <span class="text-orange-400">Employee</span> &lt;- <span class="text-orange-400">Person</span>.</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-pink-500 mr-2">➤</span>
                        <div>
                            <strong class="text-pink-400">Tính Đa Hình (Polymorphism):</strong>
                            <p class="text-sm text-gray-300">Hàm ảo <code class="text-red-400">virtual void display()</code> được sử dụng để hiển thị thông tin riêng biệt của các lớp con.</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-pink-500 mr-2">➤</span>
                        <div>
                            <strong class="text-pink-400">Nạp Chồng Toán Tử (Overloading):</strong>
                            <p class="text-sm text-gray-300">Sử dụng <code class="text-red-400">friend ostream& operator&lt;&lt;</code> cho class <span class="text-orange-400">Medicine</span>.</p>
                        </div>
                    </li>
                </ul>
            </div>

            <div class="bg-gray-800 p-1 rounded-xl border border-gray-600 shadow-2xl">
                <h2 class="text-3xl font-extrabold text-orange-400 m-4 text-center">Sơ Đồ Lớp </h2>
                
                <div class="diagram-container overflow-x-auto p-4">
                    <div class="mermaid" id="hospital-uml">
                        classDiagram
                            direction BT
                            
                            %% Định nghĩa các lớp
                            class Person {
                                #string name
                                #int age
                                +virtual display()
                            }
                            class Employee {
                                +schedule()
                            }
                            class Doctor {
                                -string specialization
                                -Schedule doctorSchedule
                                +virter()
                            }
                            class Patient {
                                -MedicalRecord record
                                -int roomNumber
                            }
                            class Schedule {
                                -string timeSlot
                            }
                            class Medicine {
                                -string name
                                -int stock
                                +operator<<(ostream)
                            }
                            class MedicalRecord {
                                -string diagnosis
                                -Medicine prescribedList[]
                                -int medicineCount
                            }
                            class Room {
                                -int roomNumber
                                -double price
                            }
                            class Hospital {
                                -Doctor[] doctors
                                -Patient[] patients
                                -Room[] rooms
                                +addDoctor()
                                +addPatient()
                                +manageSystem()
                            }
                            class AUTOID {
                                +static generateID()
                            }

                            %% Định nghĩa các mối quan hệ
                            
                            %% Kế thừa (Inheritance)
                            Person <|-- Employee
                            Person <|-- Patient
                            Employee <|-- Doctor

                            %% Hợp thành (Composition)
                            Patient "1" *-- "1" MedicalRecord : Ghi nhận
                            
                            %% Kết tập (Aggregation)
                            Hospital "1" o-- "" Doctor : Quản lý
                            Hospital "1" o-- "" Patient : Quản lý
                            Hospital "1" o-- "" Room : Quản lý
                            MedicalRecord "1" o-- "" Medicine : Kê đơn
                            
                            %% Hiệp hội (Association / Dependency)
                            Doctor "1" -- "1" Schedule : Có Lịch làm
                            Room ..> AUTOID : Sử dụng ID Tự động
                            
                    </div>
                </div>
            </div>
        </div>

        <div class="lg:col-span-2">
            <div class="code-window flex flex-col h-[800px]">
                <div class="bg-gray-900 p-3 border-b border-gray-700 flex justify-between items-center">
                    <div class="flex space-x-2">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                    <span class="text-gray-400 text-sm font-mono" id="current-filename">main.cpp</span>
                </div>

                <div class="flex flex-1 overflow-hidden">
                    <div class="code-sidebar w-1/4 overflow-y-auto" id="file-list">
                    </div>
                    <div class="w-3/4 bg-[#282a36] overflow-auto p-4 relative">
                        <pre><code id="code-content" class="language-cpp"></code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="bg-gray-900 text-white py-8 border-t border-gray-800 mt-8">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
            
            <!-- KHỐI GÓC DƯỚI BÊN TRÁI: Design by Sơn Cris -->
            <div class="design-by-container mb-6 md:mb-0 text-center md:text-left">
                <p class="design-by-text text-sm text-gray-400">
                    Design by <b class="text-white font-semibold tracking-wider">Sơn Cris</b>
                </p>
                <p class="text-xs text-gray-600 mt-1">&copy; 2025 Lập trình hướng đối tượng</p>
            </div>

            <!-- KHỐI GÓC DƯỚI BÊN PHẢI: 3 thông tin liên hệ theo hàng ngang -->
            <div class="contact-links-container flex flex-wrap justify-center gap-3 sm:gap-4">
                
                <!-- Phone Link (Xanh Green) -->
                <a href="tel:0327208690" title="Gọi 0327208690" class="footer-link phone-link flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition duration-300 ease-in-out transform hover:scale-105 shadow-md bg-green-600 hover:bg-green-700 text-white">
                    <!-- Icon Điện thoại -->
                    <svg class="footer-icon w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M164.9 24.6c-48 0-87.1 39.1-87.1 87.1v278.7c0 48 39.1 87.1 87.1 87.1h182.2c48 0 87.1-39.1 87.1-87.1V111.7c0-48-39.1-87.1-87.1-87.1H164.9zM256 464c-15.4 0-27.9-12.5-27.9-27.9s12.5-27.9 27.9-27.9 27.9 12.5 27.9 27.9-12.5 27.9-27.9 27.9zm135.2-348.8H122.9V392h268.3V115.2z"/></svg>
                    <span>0327208690</span>
                </a>
                
                <!-- Instagram Link (Hồng) -->
                <a href="https://www.instagram.com/son_cris3012/" target="_blank" title="Instagram" class="footer-link instagram-link flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition duration-300 ease-in-out transform hover:scale-105 shadow-md bg-pink-600 hover:bg-pink-700 text-white">
                    <!-- Icon Instagram -->
                    <svg class="footer-icon w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.1 12.6C99.2-22.3-22.3 99.2 12.6 224.1l11.2 11.2c19.3 19.3 46.4 30.1 74.5 30.1h145.4c28.1 0 55.2-10.8 74.5-30.1l11.2-11.2C485.6 99.2 364.1-22.3 239.1 12.6L224.1 27.7l-15 42.1c-14.4 40.3-43.7 70.8-82.6 86.6L48.2 168.1C25.3 177.1 8.5 197.6 8.5 221v82c0 23.4 16.8 43.9 39.7 52.9l84.4 32.1c38.9 15.8 68.2 46.3 82.6 86.6l15 42.1 15-42.1c14.4-40.3 43.7-70.8 82.6-86.6l84.4-32.1c22.9-9 39.7-29.5 39.7-52.9v-82c0-23.4-16.8-43.9-39.7-52.9l-84.4-32.1c-38.9-15.8-68.2-46.3-82.6-86.6l-15-42.1L224.1 27.7zM169.1 296.8c-29.4-29.4-29.4-77 0-106.4s77-29.4 106.4 0 29.4 77 0 106.4-77 29.4-106.4 0zm53.2-61.9c-15.5-15.5-15.5-40.7 0-56.2s40.7-15.5 56.2 0 15.5 40.7 0 56.2-40.7 15.5-56.2 0zm117.8 7.3c15.2-15.2 15.2-39.8 0-55s-39.8-15.2-55 0c-15.2 15.2-15.2 39.8 0 55s39.8 15.2 55 0z"/></svg>
                    <span>Instagram</span>
                </a>
                
                <!-- Facebook Link (Xanh Blue) -->
                <a href="https://web.facebook.com/sonsadboiz.12" target="_blank" title="Facebook" class="footer-link facebook-link flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition duration-300 ease-in-out transform hover:scale-105 shadow-md bg-blue-600 hover:bg-blue-700 text-white">
                    <!-- Icon Facebook -->
                    <svg class="footer-icon w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.37h-51.2v-60.3h51.2v-44.4a76.43 76.43 0 0 1 76.4-76.4h37.7v59.7h-37.7c-25.1 0-25.1 9.2-25.1 25.4v40.7h63.2l-10.1 60.3h-53.1V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"/></svg>
                    <span>Facebook</span>
                </a>
            </div>
        </div>
    </footer>


    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'default' });

        // Dữ liệu Code (21 file C++ mới)
        const codeFiles = {
            "AUTOID.h": `#pragma once

class AUTOID {
public:
    static int generateID();
};

`,
            "AUTOID.cpp": `#include "AUTOID.h"

int AUTOID::generateID() {
    static int id = 0;
    id++;
    return id;
}`,
            "Schedule.h": `#pragma once
#include <iostream>
#include <string>
using namespace std;

class Schedule {
private:
    string timeSlot;
public:
    Schedule();
    Schedule(string time);
    string getTimeSlot();
};

`,
            "Schedule.cpp": `#include "Schedule.h"

Schedule::Schedule() {
    timeSlot = "";
}

Schedule::Schedule(string time) {
    timeSlot = time;
}

string Schedule::getTimeSlot() {
    return timeSlot;
}`,
            "Medicine.h": `#pragma once
#include <iostream>
#include <string>
using namespace std;

class Medicine {
private:
    string name;
    int stock;
public:
    Medicine();
    Medicine(string n, int s);
    string getName();
    int getStock();
    friend ostream& operator<<(ostream& os, Medicine& m);
};

`,
            "Medicine.cpp": `#include "Medicine.h"

Medicine::Medicine() {
    name = "";
    stock = 0;
}

Medicine::Medicine(string n, int s) {
    name = n;
    stock = s;
}

string Medicine::getName() {
    return name;
}

int Medicine::getStock() {
    return stock;
}

ostream& operator<<(ostream& os, Medicine& m) {
    os << "   - Thuoc: " << m.name << " | So luong: " << m.stock;
    return os;
}`,
            "MedicalRecord.h": `#pragma once

#include <iostream>
#include <string>
using namespace std;

class MedicalRecord {
private:
    string diagnosis;
    Medicine prescribedList[100];
    int medicineCount;
public:
    MedicalRecord();
    MedicalRecord(string diag);
    void addMedicine(Medicine m);
    void displayRecord();
};

`,
            "MedicalRecord.cpp": `#include "MedicalRecord.h"

MedicalRecord::MedicalRecord() {
    diagnosis = "Chua chuan doan";
    medicineCount = 0;
}

MedicalRecord::MedicalRecord(string diag) {
    diagnosis = diag;
    medicineCount = 0;
}

void MedicalRecord::addMedicine(Medicine m) {
    if (medicineCount < 100) {
        prescribedList[medicineCount] = m;
        medicineCount++;
    } else {
        cout << "Loi: Don thuoc da day!" << endl;
    }
}

void MedicalRecord::displayRecord() {
    cout << "Chan doan: " << diagnosis << endl;
    cout << "Danh sach thuoc ke don:" << endl;
    for (int i = 0; i < medicineCount; i++) {
        cout << prescribedList[i] << endl;
    }
}`,
            "Room.h": `#pragma once
#include "AUTOID.h"
#include <iostream>
using namespace std;

class Room {
private:
    int roomNumber;
    double price;
public:
    Room();
    Room(double p);
    int getRoomNumber();
    double getPrice();
};

`,
            "Room.cpp": `#include "Room.h"

Room::Room() {
    roomNumber = AUTOID::generateID();
    price = 0.0;
}

Room::Room(double p) {
    roomNumber = AUTOID::generateID();
    price = p;
}

int Room::getRoomNumber() {
    return roomNumber;
}

double Room::getPrice() {
    return price;
}`,
            "Person.h": `#pragma once
#include <iostream>
#include <string>
using namespace std;

class Person {
protected:
    string name;
    int age;
public:
    Person();
    Person(string n, int a);
    virtual void display();
};

`,
            "Person.cpp": `#include "Person.h"

Person::Person() {
    name = "Khong ten";
    age = 0;
}

Person::Person(string n, int a) {
    name = n;
    age = a;
}

void Person::display() {
    cout << "Ho ten: " << name << ", Tuoi: " << age;
}`,
            "Employee.h": `#pragma once
#include "Person.h"

class Employee : public Person {
public:
    Employee();
    Employee(string n, int a);
    void schedule();
    void display();
};

`,
            "Employee.cpp": `#include "Employee.h"

Employee::Employee() : Person() {}

Employee::Employee(string n, int a) : Person(n, a) {}

void Employee::schedule() {
    cout << "Nhan vien dang xem lich." << endl;
}

void Employee::display() {
    Person::display();
    cout << " [Chuc vu: Nhan vien]";
}`,
            "Doctor.h": `#pragma once
#include "Employee.h"
#include "Schedule.h"

class Doctor : public Employee {
private:
    string specialization;
    Schedule doctorSchedule;
public:
    Doctor();
    Doctor(string n, int a, string spec, string time);
    void virter();
    void display();
};

`,
            "Doctor.cpp": `#include "Doctor.h"

Doctor::Doctor() : Employee() {
    specialization = "Da khoa";
}

Doctor::Doctor(string n, int a, string spec, string time) : Employee(n, a) {
    specialization = spec;
    doctorSchedule = Schedule(time);
}

void Doctor::virter() {
    cout << "Bac si " << name << " dang thuc hien chuyen mon: " << specialization << endl;
}

void Doctor::display() {
    cout << "--------------------------------" << endl;
    cout << "BAC SI: ";
    Person::display();
    cout << endl << "Chuyen khoa: " << specialization << endl;
    cout << "Ca truc: " << doctorSchedule.getTimeSlot() << endl;
}`,
            "Patient.h": `#pragma once
#include "Person.h"
#include "MedicalRecord.h"

class Patient : public Person {
private:
    MedicalRecord record;
    int roomNumber;
public:
    Patient();
    Patient(string n, int a, int rNum, string diagnosis);
    void addMedicineToRecord(Medicine m);
    void display();
};

`,
            "Patient.cpp": `#include "Patient.h"

Patient::Patient() : Person() {
    roomNumber = 0;
}

Patient::Patient(string n, int a, int rNum, string diagnosis) : Person(n, a) {
    roomNumber = rNum;
    record = MedicalRecord(diagnosis);
}

void Patient::addMedicineToRecord(Medicine m) {
    record.addMedicine(m);
}

void Patient::display() {
    cout << "--------------------------------" << endl;
    cout << "BENH NHAN: ";
    Person::display();
    cout << endl << "Phong so: " << roomNumber << endl;
    record.displayRecord();
}`,
            "Hospital.h": `#pragma once
#include "Doctor.h"
#include "Patient.h"
#include "Room.h"

class Hospital {
private:
    Doctor doctors[50];
    int doctorCount;
    
    Patient patients[100];
    int patientCount;
    
    Room rooms[20];
    int roomCount;

public:
    Hospital();
    void addDoctor(Doctor d);
    void addPatient(Patient p);
    void addRoom(Room r);
    void manageSystem();
};

`,
            "Hospital.cpp": `#include "Hospital.h"

Hospital::Hospital() {
    doctorCount = 0;
    patientCount = 0;
    roomCount = 0;
}

void Hospital::addDoctor(Doctor d) {
    if (doctorCount < 50) {
        doctors[doctorCount] = d;
        doctorCount++;
    }
}

void Hospital::addPatient(Patient p) {
    if (patientCount < 100) {
        patients[patientCount] = p;
        patientCount++;
    }
}

void Hospital::addRoom(Room r) {
    if (roomCount < 20) {
        rooms[roomCount] = r;
        roomCount++;
    }
}

void Hospital::manageSystem() {
    cout << "========== QUAN LY BENH VIEN ==========" << endl << endl;
    
    cout << ">>> DANH SACH PHONG (" << roomCount << ") <<<" << endl;
    for(int i = 0; i < roomCount; i++) {
        cout << "Phong ID: " << rooms[i].getRoomNumber() 
             << " - Gia: " << rooms[i].getPrice() << endl;
    }
    cout << endl;

    cout << ">>> DANH SACH BAC SI (" << doctorCount << ") <<<" << endl;
    for(int i = 0; i < doctorCount; i++) {
        doctors[i].display();
    }
    cout << endl;

    cout << ">>> DANH SACH BENH NHAN (" << patientCount << ") <<<" << endl;
    for(int i = 0; i < patientCount; i++) {
        patients[i].display();
    }
}`,
            "main.cpp": `#include <iostream>
#include "Hospital.h"
#include "Doctor.h"
#include "Patient.h"
#include "Room.h"
#include "Medicine.h"

using namespace std;

int main() {
    Hospital myHospital;

    Room r1(500000);
    Room r2(300000);
    myHospital.addRoom(r1);
    myHospital.addRoom(r2);

    Doctor d1("Nguyen Van A", 45, "Tim mach", "Sang (7h-11h)");
    Doctor d2("Tran Thi B", 32, "Than kinh", "Chieu (13h-17h)");
    
    d1.virter();

    myHospital.addDoctor(d1);
    myHospital.addDoctor(d2);

    Patient p1("Le Van C", 60, r1.getRoomNumber(), "Cao huyet ap");
    Medicine m1("Panadol", 10);
    Medicine m2("Vitamin C", 20);
    p1.addMedicineToRecord(m1);
    p1.addMedicineToRecord(m2);

    Patient p2("Pham Van D", 25, r2.getRoomNumber(), "Dau da day");
    Medicine m3("Gaviscon", 5);
    p2.addMedicineToRecord(m3);

    myHospital.addPatient(p1);
    myHospital.addPatient(p2);

    cout << endl;
    myHospital.manageSystem();

    return 0;
}`
        };

        const fileListEl = document.getElementById('file-list');
        const codeContentEl = document.getElementById('code-content');
        const fileNameEl = document.getElementById('current-filename');

        function renderTabs() {
            let first = true;
            fileListEl.innerHTML = ''; // Xóa nội dung cũ
            
            // Sắp xếp các file theo thứ tự .h rồi đến .cpp, và main.cpp cuối cùng
            const orderedFiles = [
                "AUTOID.h", "Schedule.h", "Medicine.h", "MedicalRecord.h", "Room.h", 
                "Person.h", "Employee.h", "Doctor.h", "Patient.h", "Hospital.h",
                "AUTOID.cpp", "Schedule.cpp", "Medicine.cpp", "MedicalRecord.cpp", "Room.cpp",
                "Person.cpp", "Employee.cpp", "Doctor.cpp", "Patient.cpp", "Hospital.cpp",
                "main.cpp"
            ];
            
            for (const filename of orderedFiles) {
                if (!codeFiles[filename]) continue; // Bỏ qua nếu không tồn tại

                const div = document.createElement('div');
                div.className = 'file-tab p-3 text-gray-400 hover:text-white text-sm font-mono border-b border-gray-700';
                div.textContent = filename;
                
                div.onclick = () => {
                    document.querySelectorAll('.file-tab').forEach(t => t.classList.remove('active'));
                    div.classList.add('active');
                    
                    fileNameEl.textContent = filename;
                    codeContentEl.textContent = codeFiles[filename];
                };

                if (first) {
                    div.classList.add('active');
                    fileNameEl.textContent = filename;
                    codeContentEl.textContent = codeFiles[filename];
                    first = false;
                }

                fileListEl.appendChild(div);
            }
        }

        renderTabs();

    </script>
</body>
</html>

